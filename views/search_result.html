<!-- search_result.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Restaurant Search Results</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .main-container {
      width: 350px;
      padding: 20px;
      border-radius: 4px;
      background-color: white;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    h2 {
      text-align: center;
      color: #000000;
    }

    label {
      display: block;
      margin-top: 10px;
    }

    input,
    select,
    button {
      width: 100%;
      padding: 10px;
      box-sizing: border-box;
      border-radius: 4px;
      border: 1px solid #ddd;
      margin-bottom: 10px;
    }

    button {
      background-color: #007BFF;
      color: white;
      cursor: pointer;
    }

    button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
<div class="main-container">
  <h2>Search Results</h2>
  <form id="search-form">
    <label for="serviceArea">음식점 지역</label>
    <select id="serviceArea" name="serviceArea">
      <option value="서울">서울</option>
      <option value="부산">부산</option>
      <option value="대구">대구</option>
      <option value="대전">대전</option>
      <option value="광주">광주</option>
      <option value="울산">울산</option>
    </select>

    <label for="type">음식의 종류</label>
    <select id="type" name="type">
      <option value="">전체</option>
      <option value="양식">양식</option>
      <option value="한식">한식</option>
      <option value="일식">일식</option>
      <option value="중식">중식</option>
      <option value="패스트푸드">패스트푸드</option>
      <option value="기타">기타</option>
    </select>

    <label for="name">음식점 이름</label>
    <input type="text" id="name" name="name" placeholder="음식점 이름 (옵션)">

    <button type="submit">검색</button>
  </form>
</div>

<div class="main-container">
  <h2>Search Results</h2>
  <div id="restaurant-list"></div>
  <form id="select-restaurant-form">
    <label for="selectedRestaurant">음식점 선택</label>
    <select id="selectedRestaurant" name="selectedRestaurant"></select>
    <button type="submit">선택</button>
  </form>
</div>

<script>
  // Assuming resultSet is a global variable holding the restaurant data
  const searchForm = document.getElementById('search-form');
  const restaurantListContainer = document.getElementById('restaurant-list');
  const selectRestaurantForm = document.getElementById('select-restaurant-form');
  const selectRestaurant = document.getElementById('selectedRestaurant');

  // Function to display restaurant list
  function displayRestaurantList(resultSet) {
    restaurantListContainer.innerHTML = ''; // Clear previous content

    resultSet.forEach(({ restaurantId, name, location, type }) => {
      const restaurantInfo = `음식점 ID: ${restaurantId} | 이름: ${name} | 위치: ${location} | 음식 종류: ${type}`;
      const listItem = document.createElement('div');
      listItem.textContent = restaurantInfo;
      restaurantListContainer.appendChild(listItem);

      // Add restaurant ID to the select options
      const option = document.createElement('option');
      option.value = restaurantId;
      option.textContent = `${name} - ${location}`;
      selectRestaurant.appendChild(option);
    });

    // Show the restaurant list container
    restaurantListContainer.style.display = 'block';
  }

  // Sample data (replace this with the actual resultSet)
  const resultSet = [
    { restaurantId: 1, name: 'Restaurant1', location: 'Seoul', type: 'Cuisine1' },
    { restaurantId: 2, name: 'Restaurant2', location: 'Busan', type: 'Cuisine2' },
    // Add more sample data as needed
  ];

  // Hide the restaurant list container initially
  restaurantListContainer.style.display = 'none';

  // Handle the form submission
  searchForm.addEventListener('submit', function(event) {
    event.preventDefault();

    // Get values from the form
    const serviceArea = document.getElementById('serviceArea').value;
    const type = document.getElementById('type').value;
    const name = document.getElementById('name').value;

    // Replace this with your actual search logic
    // Assuming you have a function named searchRestaurantsService
    // that returns a resultSet based on the provided parameters
    const resultSet = searchRestaurantsService(serviceArea, type, name);

    // Display the restaurant list
    displayRestaurantList(resultSet);
  });

  // Handle the restaurant selection form submission
  selectRestaurantForm.addEventListener('submit', function(event) {
    event.preventDefault();

    // Get the selected restaurant ID
    const selectedRestaurantId = selectRestaurant.value;

    // Add your logic for what to do with the selected restaurant ID here
    console.log('Selected Restaurant ID:', selectedRestaurantId);
  });
</script>
</body>
</html>
